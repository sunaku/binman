<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="md2man 5.0.3 https://github.com/sunaku/md2man" />
  <title>README &mdash; binman</title>
  <link rel="stylesheet" href="../style.css"/>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body><div class="navbar"><div class="navbar-inner"><span class="brand"><a href="../index.html#man0">man0</a>/README</span></div></div><div class="container-fluid"><ul>
<li>Code: <a href="https://github.com/sunaku/binman">https://github.com/sunaku/binman</a></li>
<li>Docs: <a href="https://sunaku.github.io/binman/man">https://sunaku.github.io/binman/man</a></li>
<li>Bugs: <a href="https://github.com/sunaku/binman/issues">https://github.com/sunaku/binman/issues</a></li>
</ul>
<h1 id="binman-manpages-from-header-comments"><span class="md2man-title">binman</span> <span class="md2man-section">-</span> <span class="md2man-date">manpages</span> <span class="md2man-source">from</span> <span class="md2man-manual">header</span> comments<a name="binman-manpages-from-header-comments" href="#binman-manpages-from-header-comments" class="md2man-permalink" title="permalink"></a></h1><p>binman generates manual pages from header comments in your scripts so that you
can keep your documentation and implementation together, in the same file, for
easy maintenance.  But keeping them apart, in separate files, is supported too.</p><p><img src="https://github.com/sunaku/binman/raw/gh-pages/EXAMPLE.png" alt="screenshot"></p><h2 id="features">Features<a name="features" href="#features" class="md2man-permalink" title="permalink"></a></h2>
<ul>
<li><p>Direct support for any scripting language that has multi-line comments or
uses <code>#</code> for single-line comments such as Ruby, Perl, PHP, Python, R, Tcl,
Node.js, Elixir, make, AWK, sed, UNIX shells, Windows PowerShell and more!</p></li>
<li><p>Individual commands for manual page extraction, conversion, and display.</p></li>
<li><p>Accessible from the command line and also as a library in <a href="https://www.ruby-lang.org/">Ruby</a> scripts.</p></li>
<li><p>Implemented in roughly 165 statement lines (SLOC) of pure <a href="https://www.ruby-lang.org/">Ruby</a> code! :-)</p></li>
</ul>
<h2 id="examples">Examples<a name="examples" href="#examples" class="md2man-permalink" title="permalink"></a></h2><p>Here are some examples of HTML manual page <em>sets</em> generated by <a class="md2man-reference" href="../man1/binman-rake.1.html">binman-rake(1)</a>:</p>
<ul>
<li><a href="https://sunaku.github.io/dasht/man">https://sunaku.github.io/dasht/man</a></li>
<li><a href="https://sunaku.github.io/tork/man">https://sunaku.github.io/tork/man</a></li>
<li><a href="https://sunaku.github.io/binman/man">https://sunaku.github.io/binman/man</a></li>
<li><a href="https://sunaku.github.io/md2man/man">https://sunaku.github.io/md2man/man</a></li>
</ul>
<p>For examples of input and output files, see &quot;From the command line&quot; below.</p><h2 id="installation">Installation<a name="installation" href="#installation" class="md2man-permalink" title="permalink"></a></h2><h3 id="requirements">Requirements<a name="requirements" href="#requirements" class="md2man-permalink" title="permalink"></a></h3>
<ul>
<li><a href="https://www.ruby-lang.org/">Ruby</a> 1.8.7 or newer</li>
</ul>
<h3 id="for-users">For users<a name="for-users" href="#for-users" class="md2man-permalink" title="permalink"></a></h3><p>If you only want to view pre-built manual pages:</p><pre class="highlight shell"><code>gem install binman
</code></pre>
<p>If you also want to build your own manual pages:</p><pre class="highlight shell"><code>gem install md2man -v <span class="s1">'~&gt; 5.0'</span>
</code></pre>
<h3 id="for-developers">For developers<a name="for-developers" href="#for-developers" class="md2man-permalink" title="permalink"></a></h3><pre class="highlight shell"><code>git clone https://github.com/sunaku/binman
<span class="nb">cd </span>binman
bundle install
bundle <span class="nb">exec </span>binman --help <span class="c"># run it directly</span>
bundle <span class="nb">exec </span>rake --tasks  <span class="c"># packaging tasks</span>
</code></pre>
<h2 id="usage">Usage<a name="usage" href="#usage" class="md2man-permalink" title="permalink"></a></h2><p>First, write <a class="md2man-reference" href="../man5/md2man.5.html">md2man(5)</a> text for your script: either in a comment at the top of
your script file, as described under &quot;Embedded manpage sources&quot; in <a class="md2man-reference" href="../man1/binman.1.html">binman(1)</a>,
or in a separate Markdown file located at <code>man/man?/*.?.{markdown,mkd,md}</code>.</p>
<ul>
<li>For real examples of what to write, see &quot;From the command line&quot; below.</li>
<li>For the detailed syntax and semantics of what to write, see <a class="md2man-reference" href="../man5/md2man.5.html">md2man(5)</a>.</li>
</ul>
<p>Next, you have two ways of generating manual pages from what you&#39;ve written:</p>
<ol>
<li>Generate manual pages at &quot;compile time&quot; and ship them with your scripts.</li>
<li>Generate manual pages at &quot;run time&quot; so that your scripts are standalone.</li>
</ol>
<h3 id="at-compile-time">At compile time<a name="at-compile-time" href="#at-compile-time" class="md2man-permalink" title="permalink"></a></h3><p>Run <a class="md2man-reference" href="../man1/binman-rake.1.html">binman-rake(1)</a> to generate manual pages for all of your <code>./bin/*</code> scripts.</p><p>Alternatively, to have more control over the generation of your manual pages:</p>
<ul>
<li>Run <code>binman text</code> to extract manual page text from a specified script.</li>
<li>Run <code>binman roff</code> to generate a UNIX manual page from a specified script.</li>
<li>Run <code>binman html</code> to generate a HTML manual page from a specified script.</li>
</ul>
<h4 id="from-the-command-line">From the command line<a name="from-the-command-line" href="#from-the-command-line" class="md2man-permalink" title="permalink"></a></h4><p>Below are some real examples of generating manual pages from the command line.
Note that <a class="md2man-reference" href="../man1/binman-rake.1.html">binman-rake(1)</a> abstracts away all of the complexity you see below!</p><p><a class="md2man-reference">dasht(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht">dasht</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht.1.markdown">dasht.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht">dasht</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht.1">dasht.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht">dasht</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht.1.html">dasht.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-docsets(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets">dasht-docsets</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets.1.markdown">dasht-docsets.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets">dasht-docsets</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets.1">dasht-docsets.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets">dasht-docsets</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-docsets.1.html">dasht-docsets.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-docsets-install(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-install">dasht-docsets-install</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets-install.1.markdown">dasht-docsets-install.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-install">dasht-docsets-install</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets-install.1">dasht-docsets-install.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-install">dasht-docsets-install</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-docsets-install.1.html">dasht-docsets-install.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-docsets-remove(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-remove">dasht-docsets-remove</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets-remove.1.markdown">dasht-docsets-remove.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-remove">dasht-docsets-remove</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets-remove.1">dasht-docsets-remove.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-remove">dasht-docsets-remove</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-docsets-remove.1.html">dasht-docsets-remove.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-docsets-update(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-update">dasht-docsets-update</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets-update.1.markdown">dasht-docsets-update.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-update">dasht-docsets-update</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-docsets-update.1">dasht-docsets-update.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-docsets-update">dasht-docsets-update</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-docsets-update.1.html">dasht-docsets-update.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-query-exec(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-exec">dasht-query-exec</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-query-exec.1.markdown">dasht-query-exec.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-exec">dasht-query-exec</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-query-exec.1">dasht-query-exec.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-exec">dasht-query-exec</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-query-exec.1.html">dasht-query-exec.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-query-html(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-html">dasht-query-html</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-query-html.1.markdown">dasht-query-html.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-html">dasht-query-html</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-query-html.1">dasht-query-html.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-html">dasht-query-html</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-query-html.1.html">dasht-query-html.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-query-line(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-line">dasht-query-line</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-query-line.1.markdown">dasht-query-line.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-line">dasht-query-line</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-query-line.1">dasht-query-line.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-query-line">dasht-query-line</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-query-line.1.html">dasht-query-line.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-server(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-server">dasht-server</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-server.1.markdown">dasht-server.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-server">dasht-server</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-server.1">dasht-server.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-server">dasht-server</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-server.1.html">dasht-server.1.html</a></li>
</ul>
<p><a class="md2man-reference">dasht-server-http(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-server-http">dasht-server-http</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-server-http.1.markdown">dasht-server-http.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-server-http">dasht-server-http</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/dasht/gh-pages/man/man1/dasht-server-http.1">dasht-server-http.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/dasht/master/bin/dasht-server-http">dasht-server-http</a>
<code>&gt;</code> <a href="https://sunaku.github.io/dasht/man/man1/dasht-server-http.1.html">dasht-server-http.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork">tork</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork.1.markdown">tork.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork">tork</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork.1">tork.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork">tork</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork.1.html">tork.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-runner(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-runner">tork-runner</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-runner.1.markdown">tork-runner.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-runner">tork-runner</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-runner.1">tork-runner.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-runner">tork-runner</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-runner.1.html">tork-runner.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-herald(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-herald">tork-herald</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-herald.1.markdown">tork-herald.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-herald">tork-herald</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-herald.1">tork-herald.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-herald">tork-herald</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-herald.1.html">tork-herald.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-driver(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-driver">tork-driver</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-driver.1.markdown">tork-driver.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-driver">tork-driver</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-driver.1">tork-driver.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-driver">tork-driver</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-driver.1.html">tork-driver.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-engine(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-engine">tork-engine</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-engine.1.markdown">tork-engine.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-engine">tork-engine</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-engine.1">tork-engine.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-engine">tork-engine</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-engine.1.html">tork-engine.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-master(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-master">tork-master</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-master.1.markdown">tork-master.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-master">tork-master</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-master.1">tork-master.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-master">tork-master</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-master.1.html">tork-master.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-remote(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-remote">tork-remote</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-remote.1.markdown">tork-remote.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-remote">tork-remote</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-remote.1">tork-remote.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-remote">tork-remote</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-remote.1.html">tork-remote.1.html</a></li>
</ul>
<p><a class="md2man-reference">tork-notify(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-notify">tork-notify</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-notify.1.markdown">tork-notify.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-notify">tork-notify</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/tork/gh-pages/man/man1/tork-notify.1">tork-notify.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/tork/master/bin/tork-notify">tork-notify</a>
<code>&gt;</code> <a href="https://sunaku.github.io/tork/man/man1/tork-notify.1.html">tork-notify.1.html</a></li>
</ul>
<p><a class="md2man-reference">md2man-roff(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-roff">md2man-roff</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/md2man/gh-pages/man/man1/md2man-roff.1.markdown">md2man-roff.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-roff">md2man-roff</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/md2man/gh-pages/man/man1/md2man-roff.1">md2man-roff.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-roff">md2man-roff</a>
<code>&gt;</code> <a href="https://sunaku.github.io/md2man/man/man1/md2man-roff.1.html">md2man-roff.1.html</a></li>
</ul>
<p><a class="md2man-reference">md2man-html(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-html">md2man-html</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/md2man/gh-pages/man/man1/md2man-html.1.markdown">md2man-html.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-html">md2man-html</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/md2man/gh-pages/man/man1/md2man-html.1">md2man-html.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-html">md2man-html</a>
<code>&gt;</code> <a href="https://sunaku.github.io/md2man/man/man1/md2man-html.1.html">md2man-html.1.html</a></li>
</ul>
<p><a class="md2man-reference">md2man-rake(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-rake">md2man-rake</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/md2man/gh-pages/man/man1/md2man-rake.1.markdown">md2man-rake.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-rake">md2man-rake</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/md2man/gh-pages/man/man1/md2man-rake.1">md2man-rake.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/md2man/master/bin/md2man-rake">md2man-rake</a>
<code>&gt;</code> <a href="https://sunaku.github.io/md2man/man/man1/md2man-rake.1.html">md2man-rake.1.html</a></li>
</ul>
<p><a class="md2man-reference" href="../man1/binman.1.html">binman(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/binman/master/bin/binman">binman</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/binman/gh-pages/man/man1/binman.1.markdown">binman.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/binman/master/bin/binman">binman</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/binman/gh-pages/man/man1/binman.1">binman.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/binman/master/bin/binman">binman</a>
<code>&gt;</code> <a href="https://sunaku.github.io/binman/man/man1/binman.1.html">binman.1.html</a></li>
</ul>
<p><a class="md2man-reference" href="../man1/binman-rake.1.html">binman-rake(1)</a>:</p>
<ul>
<li><code>binman text</code>
<a href="https://raw.github.com/sunaku/binman/master/bin/binman-rake">binman-rake</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/binman/gh-pages/man/man1/binman-rake.1.markdown">binman-rake.1.markdown</a></li>
<li><code>binman roff</code>
<a href="https://raw.github.com/sunaku/binman/master/bin/binman-rake">binman-rake</a>
<code>&gt;</code> <a href="https://raw.github.com/sunaku/binman/gh-pages/man/man1/binman-rake.1">binman-rake.1</a></li>
<li><code>binman html</code>
<a href="https://raw.github.com/sunaku/binman/master/bin/binman-rake">binman-rake</a>
<code>&gt;</code> <a href="https://sunaku.github.io/binman/man/man1/binman-rake.1.html">binman-rake.1.html</a></li>
</ul>
<h4 id="for-a-ruby-package">For a Ruby package<a name="for-a-ruby-package" href="#for-a-ruby-package" class="md2man-permalink" title="permalink"></a></h4><p>Add this snippet to your gemspec file:</p><pre class="highlight ruby"><code><span class="n">s</span><span class="p">.</span><span class="nf">files</span> <span class="o">+=</span> <span class="no">Dir</span><span class="p">[</span><span class="s1">'man/man?/*.?'</span><span class="p">]</span>            <span class="c1"># UNIX manual pages</span>
<span class="n">s</span><span class="p">.</span><span class="nf">files</span> <span class="o">+=</span> <span class="no">Dir</span><span class="p">[</span><span class="s1">'man/**/*.{html,css,js}'</span><span class="p">]</span>  <span class="c1"># HTML manual pages</span>
<span class="n">s</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s1">'md2man'</span><span class="p">,</span> <span class="s1">'~&gt; 5.0'</span>
</code></pre>
<p>Add the following line to your Rakefile:</p><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'binman/rakefile'</span>
</code></pre>
<p>You now have a <code>rake binman</code> task that pre-builds UNIX manual page files for
your <code>bin/</code> scripts into a <code>man/</code> directory so that your end-users do not need
<a href="https://github.com/sunaku/md2man">md2man</a> installed in order to view the manual pages you&#39;ve embedded therein!
There are also sub-tasks to build manual pages individually as <a href="http://troff.org">roff</a> or HTML.</p><p>If you&#39;re using Bundler, this task also hooks into its gem packaging tasks and
ensures that your UNIX manual pages are pre-built and packaged into your gem:</p><pre class="highlight shell"><code>bundle <span class="nb">exec </span>rake build
gem spec pkg/<span class="k">*</span>.gem | fgrep man/man
</code></pre>
<h3 id="at-run-time">At run time<a name="at-run-time" href="#at-run-time" class="md2man-permalink" title="permalink"></a></h3><p>Run <code>binman show</code> to display the manual page (which may have been
pre-generated at &quot;compile time&quot;) for a specified script.</p><p>Alternatively, an easy way to add support for <code>-h</code> and <code>--help</code> options in a
specified script is to run <code>binman help</code> with its file path and command line
arguments.  This displays its manual page (which may have been pre-generated
at &quot;compile time&quot;) <em>only when</em> those help options are found in its arguments.</p><h4 id="from-a-shell-script">From a shell script<a name="from-a-shell-script" href="#from-a-shell-script" class="md2man-permalink" title="permalink"></a></h4><pre class="highlight shell"><code><span class="c">#!/usr/bin/sh</span>
<span class="c"># your program's manual page goes here</span>

<span class="c"># OPTION 1: show manual and exit if ARGV has -h or --help except after --</span>
binman <span class="nb">help</span> <span class="s2">"</span><span class="nv">$0</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">exit</span>

<span class="c"># OPTION 2: show manual unconditionally</span>
binman show <span class="s2">"</span><span class="nv">$0</span><span class="s2">"</span>
</code></pre>
<h4 id="from-a-ruby-script">From a Ruby script<a name="from-a-ruby-script" href="#from-a-ruby-script" class="md2man-permalink" title="permalink"></a></h4><pre class="highlight ruby"><code><span class="c1">#!/usr/bin/env ruby</span>
<span class="c1"># your program's manual page goes here</span>

<span class="nb">require</span> <span class="s1">'binman'</span>

<span class="c1"># OPTION 1: show manual and exit if ARGV has -h or --help except after --</span>
<span class="no">BinMan</span><span class="p">.</span><span class="nf">help</span>

<span class="c1"># OPTION 2: show manual unconditionally</span>
<span class="no">BinMan</span><span class="p">.</span><span class="nf">show</span>
</code></pre>
<p>You can also specify your program&#39;s source file encoding above the manual:</p><pre class="highlight ruby"><code><span class="c1">#!/usr/bin/env ruby</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># your program's manual page goes here</span>
</code></pre>
<p>You can also write the manual as a multi-line Ruby comment:</p><pre class="highlight ruby"><code><span class="c1">#!/usr/bin/env ruby</span>
<span class="cm">=begin
your program's manual page goes here
=end</span>
</code></pre>
<p>You can also specify your program&#39;s source file encoding above the manual:</p><pre class="highlight ruby"><code><span class="c1">#!/usr/bin/env ruby</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="cm">=begin
your program's manual page goes here
=end</span>
</code></pre>
<p>See the <a href="http://rubydoc.info/gems/binman/frames">API documentation</a> for even more possibilities!</p><h4 id="from-a-perl-script">From a Perl script<a name="from-a-perl-script" href="#from-a-perl-script" class="md2man-permalink" title="permalink"></a></h4><pre class="highlight perl"><code><span class="c1">#!/usr/bin/env perl</span>
<span class="c1"># your program's manual page goes here</span>

<span class="c1"># OPTION 1: show manual and exit if ARGV has -h or --help except after --</span>
<span class="nb">system</span><span class="p">(</span><span class="s">'binman'</span><span class="p">,</span> <span class="s">'help'</span><span class="p">,</span> <span class="nv">__FILE__</span><span class="p">,</span> <span class="nv">@ARGV</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">exit</span><span class="p">;</span>

<span class="c1"># OPTION 2: show manual unconditionally</span>
<span class="nb">system</span><span class="p">(</span><span class="s">'binman'</span><span class="p">,</span> <span class="s">'show'</span><span class="p">,</span> <span class="nv">__FILE__</span><span class="p">);</span>
</code></pre>
<p>You can also write the manual as a multi-line Ruby comment after <code>__END__</code>:</p><pre class="highlight perl"><code><span class="c1">#!/usr/bin/env perl</span>
<span class="k">print</span> <span class="s">"your program's code goes here"</span><span class="p">;</span>
<span class="cp">__END__
=begin
your program's manual page goes here
=end
</span></code></pre>
<h4 id="from-a-python-script">From a Python script<a name="from-a-python-script" href="#from-a-python-script" class="md2man-permalink" title="permalink"></a></h4><pre class="highlight python"><code><span class="c">#!/usr/bin/env python</span>
<span class="c"># your program's manual page goes here</span>

<span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">subprocess</span>

<span class="c"># OPTION 1: show manual and exit if ARGV has -h or --help except after --</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">'binman'</span><span class="p">,</span> <span class="s">'help'</span><span class="p">,</span> <span class="n">__file__</span><span class="p">]</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="nb">exit</span><span class="p">()</span>

<span class="c"># OPTION 2: show manual unconditionally</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">'binman'</span><span class="p">,</span> <span class="s">'show'</span><span class="p">,</span> <span class="n">__file__</span><span class="p">])</span>
</code></pre>
<p>You can also specify your program&#39;s source file encoding above the manual:</p><pre class="highlight python"><code><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="c"># your program's manual page goes here</span>
</code></pre>
<p>You can also write the manual as a multi-line Ruby comment inside a docstring:</p><pre class="highlight python"><code><span class="c">#!/usr/bin/env python</span>
<span class="s">"""
=begin
your program's manual page goes here
=end
"""</span>
</code></pre>
<p>You can also specify your program&#39;s source file encoding above the manual:</p><pre class="highlight python"><code><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="s">"""
=begin
your program's manual page goes here
=end
"""</span>
</code></pre>
<h4 id="from-an-awk-script">From an AWK script<a name="from-an-awk-script" href="#from-an-awk-script" class="md2man-permalink" title="permalink"></a></h4><p>The technique for determining current AWK script file name <a href="http://www.mombu.com/programming/programming/t-the-name-of-script-itself-2040784-print.html">comes from here</a>.</p><pre class="highlight plaintext"><code>#!/usr/bin/awk -f
# your program's manual page goes here

# OPTION 1: show manual and exit if ARGV has -h or --help except after --
BEGIN {getline c &lt;"/proc/self/cmdline"; sub(".*-f\0"," ",c); gsub("\0"," ",c);
       if(system("binman help" c) == 0){ exit }}

# OPTION 2: show manual unconditionally
BEGIN {getline c &lt;"/proc/self/cmdline"; sub(".*-f\0"," ",c); sub("\0.*","",c);
       system("binman show" c)}
</code></pre>
<h4 id="from-a-tcl-script">From a Tcl script<a name="from-a-tcl-script" href="#from-a-tcl-script" class="md2man-permalink" title="permalink"></a></h4><pre class="highlight tcl"><code><span class="c1">#!/usr/bin/env tclsh</span>
<span class="c1"># your program's manual page goes here</span>

<span class="c1"># OPTION 1: show manual and exit if ARGV has -h or --help except after --</span>
<span class="k">if</span> <span class="p">{</span>!<span class="p">[</span><span class="k">catch</span> <span class="p">{</span><span class="nb">exec</span> -- &gt;/dev/tty binman help <span class="nv">$argv0</span> <span class="k">{*}</span><span class="nv">$argv</span><span class="p">}]}</span> <span class="p">{</span><span class="nb">exit</span><span class="p">}</span>

<span class="c1"># OPTION 2: show manual unconditionally</span>
<span class="nb">exec</span> &gt;/dev/tty binman show <span class="nv">$argv0</span>
</code></pre>
<p>You can also write the manual as a multi-line Ruby comment inside an <code>if 0</code>:</p><pre class="highlight tcl"><code><span class="c1">#!/usr/bin/env tclsh</span>
<span class="k">if</span> 0 <span class="p">{</span>
=begin
your program's manual page goes here
=end
<span class="p">}</span>
</code></pre>
<h4 id="from-a-node-js-script">From a Node.js script<a name="from-a-node-js-script" href="#from-a-node-js-script" class="md2man-permalink" title="permalink"></a></h4><pre class="highlight javascript"><code><span class="cm">/*
=begin
your program's manual page goes here
=end
*/</span>

<span class="kd">var</span> <span class="nx">exec</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'child_process'</span><span class="p">).</span><span class="nx">exec</span><span class="p">;</span>

<span class="c1">// OPTION 1: show manual and exit if ARGV has -h or --help except after --</span>
<span class="nx">exec</span><span class="p">([</span><span class="s1">'&gt;/dev/tty'</span><span class="p">,</span> <span class="s1">'binman'</span><span class="p">,</span> <span class="s1">'help'</span><span class="p">,</span> <span class="nx">__filename</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">).</span>
<span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span> <span class="k">if</span> <span class="p">(</span><span class="nx">error</span> <span class="o">===</span> <span class="kc">null</span><span class="p">){</span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span> <span class="p">}</span> <span class="p">});</span>

<span class="c1">// OPTION 2: show manual unconditionally</span>
<span class="nx">exec</span><span class="p">([</span><span class="s1">'&gt;/dev/tty'</span><span class="p">,</span> <span class="s1">'binman'</span><span class="p">,</span> <span class="s1">'show'</span><span class="p">,</span> <span class="nx">__filename</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">));</span>
</code></pre>
<h2 id="license">License<a name="license" href="#license" class="md2man-permalink" title="permalink"></a></h2><p>Released under the ISC license.  See the LICENSE file for details.</p></div></body>
</html>
